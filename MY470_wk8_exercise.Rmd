---
title: "MY470 - Exercise Week 8 - Programming"
author: "betoriay"
output: 
  md_document:
    variant: markdown_github
---
```{r goal_options}
knitr::opts_chunk$set(fig.path = 'Figs/')
```

The goal of this exercise is to practice writing code in R. You will have to use the content from this week's lecture as well as the required readings and the R documentation in order to answer the questions below.

We will mark the assignment based on the compiled html file, so please check that the final version of your submission includes that file. Submissions without a compiled html file will receive a mark of 0.

### Getting Started: Installing R and RStudio

Try knitting the [`TestRMarkdown.Rmd`](TestRMarkdown.Rmd) document.  This means that you will need to have:

a) Installed RStudio.
b) Installed R.  (Preferably 3.6.1)
c) Installed the **knitr** and **rmarkdown** packages.  (When you open the `TestRMarkdown.Rmd` file, you should see a button for "Knit".  When you click on that, if the required packages are not yet installed, you should be prompted to install them.)
d) When this is successful, you will have converted a mixture of Markdown and R code into an HTML document.  This is am important step, since the homework is in Rmarkdown.

For the rest of the exercise, you will need to open the file `MY470_wk8_exercise.Rmd` and work by modifying and knitting that (this!) file.  Note that in the "YAML" header, you will be using the [`md_document` output format](http://rmarkdown.rstudio.com/markdown_document_format.html).  This produces a markdown file that can be viewed nicely on GitHub. 


### 1. R basics

Open RStudio and explore the programme. Make sure you can identify the `console`, the script editor, the `environment` window, the `packages` window and the `help` window!
  
a) Use the code below to create a vector of the integers 1 through 5.  Examine the [RMarkdown](https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf) code block below.  This is the R equivalent of a Jupyter notebook "cell".

It is entered as follows:

    ```{r eval=TRUE}`r ''`
    my_vec <- c(1, 2, 3, 4, 5)
    ```
And when knitted, produces this output:

```{r}
my_vec <- c(1, 2, 3, 4, 5)
```

In RStudio, you can insert code blocks in R (or Python) using the "Insert" button in the Source pane, or by typing the code fence triple backticks and the the `{r}` manually.


b Multiply each element of your vector by 3, and assign the output to a new object. `print` the values of your new object.  Here, we have given the answer to you for free.

```{r}
my_new_vec <- my_vec * 3
print(my_new_vec)
```

c Add together the two objects that you have created to far, `print()`ing the result. Note that R operates on vectors element-wise.
```{r}
print(my_new_vec + my_vec)
```

d) Create a logical vector of length five, again using the `c()` function. Make sure that you have a mix of `TRUE` and `FALSE` values in the vector. Use the logical vector to subset the numeric vector that you created in question 2 and `print` the result.
```{r}
log_vec <- c(TRUE, FALSE, FALSE, TRUE, FALSE)
#subset my_new_vec using log_vec
print(my_new_vec[log_vec])
```

### 2. Working with text

Here, we revisit some of the same issues as in [Week 2](https://github.com/lse-my470/assignment-2/blob/master/MY470_wk2_assign.ipynb).

We will use the same text:
```{r}
txt <- "Someone must have been telling lies about Josef K., he knew he had
done nothing wrong but, one morning, he was arrested.  Every day at
eight in the morning he was brought his breakfast by  Mrs. Grubach's
cook - Mrs. Grubach was his landlady - but today she didn't come.  That
had never happened before.  K. waited a little while, looked from his
pillow at the old woman who lived opposite and who was watching him with
an inquisitiveness quite unusual for her, and finally, both hungry and
disconcert"

# this splits the text by whitespace
toks <- unlist(strsplit(txt, "\\s"))
```

Answer the questions below by creating your own chunks of code to find the right answer:

a) What is the type of the object `toks`?  (Hint: Examine it using the same tools as from the lecture notes.)

```{r}
typeof(toks)
```

b) How many elements are in `toks`? And how many _unique_ elements?

```{r}
# the number of elements in `toks`:
length(toks)
#the number of unique elements in `toks`:
length(unique(toks))
```

c) What are the most common three words?  Hint: See `?table`.

```{r}
#"words" here should mean actual words, not punctuation, spaces, or other characters. As required,we do not need to remove them (necessarily) but you should not count them in the answer to this question.
word_frequency <- tail(sort(table(toks)))
#after result print, we could see the one of the top three common words is a space, therefore we shoul eliminate it
#and also have the same frequency with "his", therefore I add "and" here
top_three_word <- tail(word_frequency)[-4][2:5]
# the most common three words in a decendig order are:
sort(names(top_three_word), decreasing = TRUE)
```


### 3. Working with a dataset.

This exercise relates to the `College` data set, which comes from [An Introduction to Statistical Learning](http://www-bcf.usc.edu/~gareth/ISL/data.html) by James et al 2013. It contains a number of variables for 777 different universities and colleges in the US.

For convenience, we have placed the `.csv` file in this repository.

Use the `read.csv()` function to read the data into `R`. Call the loaded data `college`. Make sure that you have the directory set to the correct location for the data.  You can load this in R directly from the website, using:

```{r}
college <- read.csv("http://www-bcf.usc.edu/~gareth/ISL/College.csv")
```

Or you can load it from a saved file, using (you might need to modify the path):

```{r}
college <- read.csv("/Users/YSR/Desktop/MY470/assignment-8-betoriay-master/College.csv")
```


a) Look at the data using the `View()` function.  Create a code block and output the results of printing the first 6 rows of the dataset, using the `head()` function.

```{r}
View(college)
head(college)
```

b) Use the `str()` function to look at the structure of the data. Which of the variables are numeric? Which are integer? Which are factors?

```{r}
str(college)
```
**Numeric variables are S.F.Ratio; Integer variables are Apps, Accept, Enroll, Top10perc, Top25perc, F.Undergrad, P.Undergrad, Outstate, Room.Board, Books, Personal, PhD, Terminal, perc.alumni, Expend, Grad.Rate; Factors variables are Private, and X(which actually refers to college name )**

c) Use the `summary()` function to produce a numerical summary of the variables in the data set.

```{r}
summary(college)
```

d) What is the mean and standard deviation of the `Enroll` and `Top10Perc` variables?  You should use the functions `mean()` and `sd()` for the answer.

```{r}
mean(college$Enroll)
sd(college$Enroll)
mean(college$Top10perc)
sd(college$Top10perc) 
```

e) Now remove the 10th through 85th observations. This will involve slicing the data, similar to in Python, but for the row element. What is the mean and standard deviation of the `Enroll` and `Top10perc` variables in the subset of the data that remains?

```{r}
new_college <- college[c(-85:-10), ]
mean(new_college$Enroll)
sd(new_college$Enroll)
mean(new_college$Top10perc)
sd(new_college$Top10perc)
```
   
f) What is the range of the `Books` variable?  Hint: Use `range()`.

```{r}
range(college$Books, na.rm = TRUE)
```

g) Produce a scatterplot matrix of the first five numeric variables of the dataset.
  
```{r}
#Use Filter Function to select all numeric type of variable
my_df<- Filter(is.numeric, college)

#Select the first five numeric variables to draw a scatterplot matrix
pairs(my_df[1:5], pch = 19, cex = 0.5)

```
